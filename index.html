<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mi mejor versi√≥n con Cristo</title>
    <style>
        :root { 
            --dark-purple: #4a148c; --medium-purple: #6a1b9a; --light-lilac: #f3e5f5;
            --grey-text: #424242; --accent-black: #1a1a1a; --white: #ffffff;
            --spotify-green: #1DB954; --period-pink: #f06292; --gold: #ffd700; --travel-blue: #0288d1;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--light-lilac); margin: 0; padding-bottom: 100px; color: var(--grey-text); }
        
        #lock-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, var(--accent-black), var(--dark-purple));
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 9999; color: white; text-align: center;
        }
        .lock-content { width: 80%; max-width: 300px; }
        #pass-input { width: 100%; padding: 15px; border-radius: 12px; border: none; text-align: center; font-size: 1.5rem; margin-bottom: 15px; outline: none; background: rgba(255,255,255,0.9); color: #000; }
        .btn-enter { background: var(--gold); color: black; border: none; padding: 15px; width: 100%; border-radius: 12px; font-weight: bold; cursor: pointer; }

        #app-container { display: none; }

        .header { background: linear-gradient(135deg, var(--accent-black), var(--dark-purple)); color: white; text-align: center; padding: 25px 15px; border-radius: 0 0 30px 30px; position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .biblia-box { margin-top: 15px; padding: 15px; background: rgba(255,255,255,0.15); border-radius: 15px; border-left: 4px solid var(--gold); text-align: left; }
        .versiculo { font-style: italic; font-size: 0.85rem; line-height: 1.4; color: #fff; display: block; margin-bottom: 4px; }
        .cita-biblica { font-weight: bold; font-size: 0.75rem; color: var(--gold); display: block; margin-bottom: 8px; }
        .frase-acorde { font-size: 0.75rem; color: #fff; font-weight: bold; display: block; text-transform: uppercase; letter-spacing: 0.5px; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 8px; }
        
        .container { padding: 15px; max-width: 600px; margin: auto; }
        .card { background: var(--white); border-radius: 20px; padding: 18px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 15px; }

        .btn-save { background: var(--dark-purple); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: bold; width: 100%; cursor: pointer; margin-top: 5px; }

        .routine-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; flex-wrap: wrap; gap: 10px; }
        .dia-btn { padding:10px; border-radius:10px; border:1px solid var(--medium-purple); font-weight:bold; cursor:pointer; background:white; color: var(--medium-purple); flex: 1; min-width: 45px; font-size: 0.8rem; }
        .dia-btn.active { background: var(--medium-purple); color: white; }
        
        .btn-viaje { background: #eee; border: 2px solid var(--travel-blue); color: var(--travel-blue); padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.7rem; cursor: pointer; }
        .btn-viaje.active { background: var(--travel-blue); color: white; }

        .exercise-item { border-bottom: 1px solid #eee; padding: 15px 0; }
        .ex-main { display: flex; gap: 12px; align-items: center; margin-bottom: 8px; }
        .ex-icon { font-size: 1.5rem; background: var(--light-lilac); padding: 10px; border-radius: 12px; min-width: 40px; text-align: center; }
        .ex-name { font-weight: bold; color: var(--dark-purple); display: block; }
        .ex-reps { color: #d32f2f; font-weight: 800; font-size: 0.85rem; }
        .ex-instruction { font-size: 0.8rem; color: #555; background: #f9f9f9; padding: 10px; border-radius: 8px; border-left: 3px solid #ddd; line-height: 1.4; }

        .nav-bar { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #ddd; z-index: 1000; }
        .nav-item { text-align: center; font-size: 0.65rem; opacity: 0.4; flex: 1; cursor: pointer; }
        .nav-item.active { opacity: 1; color: var(--dark-purple); font-weight: bold; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        input, select, textarea { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; margin-bottom: 8px; font-size: 14px; box-sizing: border-box; }
        .img-preview { width: 100%; height: 180px; background: #eee; border-radius: 10px; object-fit: cover; margin: 10px 0; display: none; border: 1px solid #ddd; }
    </style>
</head>
<body>

<div id="lock-screen">
    <div class="lock-content">
        <h2 style="color:var(--gold); margin-bottom: 30px;">Mi mejor versi√≥n</h2>
        <input type="password" id="pass-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" inputmode="numeric">
        <button class="btn-enter" onclick="checkPass()">ENTRAR</button>
    </div>
</div>

<div id="app-container">
    <div class="header">
        <div class="biblia-box">
            <span id="versiculo-txt" class="versiculo"></span>
            <span id="cita-txt" class="cita-biblica"></span>
            <span id="frase-txt" class="frase-acorde"></span>
        </div>
        <div class="peso-display" style="font-size: 1.8rem; font-weight: 900; margin-top:10px;"><span id="peso-actual">122.2</span> kg</div>
    </div>

    <div class="container">
        <div id="tab-entreno" class="tab-content active">
            <div class="routine-header">
                <div style="display:flex; flex: 1;">
                    <button class="dia-btn active" onclick="setDia(1, this)">D1</button>
                    <button class="dia-btn" onclick="setDia(2, this)">D2</button>
                    <button class="dia-btn" onclick="setDia(3, this)">D3</button>
                    <button class="dia-btn" onclick="setDia(4, this)">D4</button>
                </div>
                <button id="travel-toggle" class="btn-viaje" onclick="toggleViaje()">‚úàÔ∏è MODO VIAJE</button>
            </div>
            
            <div class="card">
                <h3 id="area-titulo" style="margin:0; color:var(--dark-purple)"></h3>
                <p id="sub-titulo" style="font-size:0.75rem; color:#888;">4 series | 45-60 min</p>
                <div id="lista-ejercicios"></div>
            </div>
        </div>

        <div id="tab-comidas" class="tab-content">
            <div class="card">
                <h3>üì∏ Diario de Alimentaci√≥n</h3>
                <select id="tipo-comida">
                    <option value="Desayuno">üç≥ Desayuno</option>
                    <option value="Almuerzo">ü•ó Almuerzo</option>
                    <option value="Merienda">‚òï Merienda</option>
                    <option value="Cena">üåô Cena</option>
                </select>
                <textarea id="detalle-comida" placeholder="¬øC√≥mo te alimentas hoy?"></textarea>
                <input type="file" id="foto-comida" accept="image/*" onchange="previewImg(this)">
                <img id="preview-box" class="img-preview">
                <button class="btn-save" onclick="saveComida()">GUARDAR COMIDA</button>
            </div>
        </div>

        <div id="tab-tracker" class="tab-content">
            <div class="card" style="border: 2px solid var(--period-pink)">
                <h3 style="color:var(--period-pink)">üå∏ Registro de Ciclo</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                    <div><label style="font-size: 11px;">Inicio:</label><input type="date" id="in-ciclo-inicio"></div>
                    <div><label style="font-size: 11px;">Fin:</label><input type="date" id="in-ciclo-fin"></div>
                </div>
                <select id="in-flujo">
                    <option value="">üíß Intensidad</option>
                    <option value="Ligero">Ligero</option>
                    <option value="Moderado">Moderado</option>
                    <option value="Abundante">Abundante</option>
                </select>
                <textarea id="in-sintomas" placeholder="S√≠ntomas..."></textarea>
                <button class="btn-save" style="background:var(--period-pink)" onclick="saveCiclo()">REGISTRAR CICLO</button>
            </div>

            <div class="card">
                <h3>üìè Medidas y Peso</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                    <input type="number" id="m-cintura" placeholder="Cintura (cm)">
                    <input type="number" id="m-cadera" placeholder="Cadera (cm)">
                    <input type="number" id="m-brazo" placeholder="Brazo (cm)">
                    <input type="number" id="in-peso" step="0.1" placeholder="Peso (kg)">
                </div>
                <button class="btn-save" onclick="saveMedidas()">ACTUALIZAR DATOS</button>
            </div>
        </div>

        <div id="tab-historial" class="tab-content">
            <div class="card">
                <h3>üìù Notas y Oraciones</h3>
                <textarea id="nota-libre" rows="4" placeholder="Escribe aqu√≠ tus pensamientos..."></textarea>
                <button class="btn-save" style="background:#444" onclick="saveNota()">GUARDAR NOTA</button>
            </div>
            <div id="historial-render"></div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="showTab('tab-entreno', this)">üèãÔ∏è<br>Rutina</div>
        <div class="nav-item" onclick="showTab('tab-comidas', this)">üçé<br>Comidas</div>
        <div class="nav-item" onclick="showTab('tab-tracker', this)">üìä<br>Medidas</div>
        <div class="nav-item" onclick="showTab('tab-historial', this)">üìú<br>Historial</div>
    </nav>
</div>

<script>
    const CLAVE = "7481";
    let currentPhoto = "";
    let isTravelMode = false;
    let currentDay = 1;

    function checkPass() {
        if(document.getElementById('pass-input').value === CLAVE) {
            document.getElementById('lock-screen').style.display = 'none';
            document.getElementById('app-container').style.display = 'block';
            updateEspiritual();
            renderRoutine();
        }
    }

    const CONTENIDO_ESPIRITUAL = [
        { v: '"¬øNo te he dicho que si crees, ver√°s la gloria de Dios?"', c: 'Juan 11:40 (RVR1960)', f: '¬°Tu fe abre puertas a lo imposible!' },
        { v: '"¬øO ignor√°is que vuestro cuerpo es templo del Esp√≠ritu Santo..."', c: '1 Corintios 6:19-20 (RVR1960)', f: 'Cuidar tu salud honra al Creador.' },
        { v: '"Yo te alabar√©; porque formidables, maravillosas son tus obras..."', c: 'Salmos 139:14 (RVR1960)', f: 'Eres una obra maestra dise√±ada con amor.' },
        { v: '"Todo lo puedo en Cristo que me fortalece."', c: 'Filipenses 4:13 (RVR1960)', f: '√âl es tu motor en cada desaf√≠o.' }
    ];

    const RUTINAS_GYM = {
        1: { t: "Piernas y Gl√∫teos (Gym)", e: [
            {n:"Calentamiento", r:"8 min", i:"üîÑ", d:"1. Mueve tobillos y rodillas en c√≠rculos. 2. Haz 20 sentadillas suaves sin peso. 3. Camina a paso r√°pido para elevar la temperatura corporal."},
            {n:"Sentadilla Barra", r:"4 x 15", i:"üèãÔ∏è", d:"1. Coloca la barra sobre tus trapecios (no el cuello). 2. Pies al ancho de hombros. 3. Baja como si te sentaras en una silla, manteniendo la espalda recta. 4. Empuja con los talones al subir."},
            {n:"Thigh Master Muslos", r:"4 x 30", i:"üå∏", d:"1. Si√©ntate con la espalda recta. 2. Coloca el aparato entre tus muslos justo arriba de las rodillas. 3. Cierra las piernas con fuerza, aguanta 1 segundo y abre lento."},
            {n:"Peso Muerto Rumano", r:"4 x 15", i:"ü¶æ", d:"1. Sujeta la barra frente a ti. 2. Baja la barra rozando tus piernas mientras llevas la cadera hacia atr√°s. 3. Baja solo hasta que sientas el estiramiento en la parte trasera del muslo. 4. Sube apretando gl√∫teos."},
            {n:"Caminata R√°pida", r:"10 min", i:"üèÉ", d:"1. Ajusta la caminadora a una inclinaci√≥n leve. 2. Mant√©n un ritmo donde te cueste hablar pero puedas respirar."}
        ]},
        2: { t: "Tren Superior (Gym)", e: [
            {n:"Remo con Barra", r:"4 x 15", i:"üí™", d:"1. Inclina el torso hacia adelante a 45 grados. 2. Sujeta la barra y ll√©vala hacia tu ombligo. 3. Aprieta los om√≥platos al subir. 4. Estira los brazos completamente al bajar."},
            {n:"Press Militar", r:"4 x 12", i:"‚¨ÜÔ∏è", d:"1. De pie o sentada, barra a la altura del pecho superior. 2. Empuja la barra hacia el techo estirando brazos. 3. Baja lento hasta la barbilla. Mant√©n el abdomen apretado."},
            {n:"Thigh Master Pecho", r:"4 x 25", i:"üéÄ", d:"1. Sujeta el aparato frente a tu pecho con los codos hacia afuera. 2. Presiona las manos hacia adentro para cerrar el aparato usando la fuerza del pecho. 3. Abre con control."},
            {n:"B√≠ceps con Barra", r:"4 x 15", i:"ü¶æ", d:"1. Sujeta la barra con palmas hacia arriba. 2. Sube la barra hacia tus hombros sin mover los codos de tus costados. 3. Baja muy lento hasta estirar todo el brazo."}
        ]},
        3: { t: "Core / Abs (Gym)", e: [
            {n:"Plancha Isom√©trica", r:"4 x 1 min", i:"üõ°Ô∏è", d:"1. Ap√≥yate en antebrazos y puntas de pies (o rodillas). 2. Mant√©n el cuerpo en l√≠nea recta. 3. No permitas que la cadera caiga. Imagina que llevas el ombligo hacia la espalda."},
            {n:"Giro Ruso con Barra", r:"4 x 20", i:"üîÑ", d:"1. Sentada, rodillas flexionadas. 2. Sujeta una barra peque√±a o disco. 3. Gira el torso de un lado al otro tocando el suelo cerca de tu cadera. Siente el trabajo en los costados."},
            {n:"Bicicleta Abdominal", r:"4 x 25", i:"üö¥", d:"1. Acostada boca arriba. 2. Manos tras la nuca. 3. Lleva el codo derecho hacia la rodilla izquierda mientras estiras la otra pierna. Alterna r√≠tmicamente."},
            {n:"Elevaci√≥n Pelvis", r:"4 x 20", i:"üçë", d:"1. Boca arriba, pies en el suelo cerca del gl√∫teo. 2. Eleva la cadera hacia el techo hasta formar una l√≠nea recta. 3. Aprieta gl√∫teos arriba 2 segundos y baja suave."}
        ]},
        4: { t: "Full Body (Gym)", e: [
            {n:"Sentadilla + Press", r:"4 x 12", i:"üöÄ", d:"1. Empieza con la barra o mancuernas en los hombros. 2. Haz una sentadilla completa. 3. Al subir, usa el impulso para empujar el peso sobre tu cabeza. 4. Repite fluido."},
            {n:"Burpees Adaptados", r:"4 x 10", i:"‚ö°", d:"1. Manos al suelo. 2. Da un paso atr√°s con cada pie hasta quedar en plancha. 3. Da un paso adelante con cada pie. 4. Ponte de pie y estira los brazos al cielo."},
            {n:"Boxeo Sombra", r:"4 x 3 min", i:"ü•ä", d:"1. Pies en posici√≥n de guardia. 2. Lanza golpes directos (jabs) alternando brazos. 3. Mant√©n los pies en movimiento constante. Respira con cada golpe."},
            {n:"Zancadas", r:"4 x 16", i:"üö∂", d:"1. Da un paso largo hacia adelante. 2. Baja la rodilla trasera hacia el suelo (sin tocarlo). 3. Mant√©n el torso erguido. 4. Regresa y cambia de pierna."}
        ]}
    };

    const RUTINA_VIAJE = { t: "Modo Viaje (Sin Equipo)", e: [
        {n:"Jumping Jacks", r:"3 min", i:"üèÉ", d:"1. Salta abriendo piernas y subiendo brazos. 2. Salta cerrando todo. Mant√©n un ritmo alegre."},
        {n:"Sentadillas Aire", r:"4 x 25", i:"ü¶µ", d:"1. Pies al ancho de hombros. 2. Baja la cadera manteniendo el peso en los talones. 3. Mant√©n el pecho arriba y la mirada al frente."},
        {n:"Flexiones en Silla", r:"4 x 15", i:"üëê", d:"1. Apoya las manos en una silla firme o borde de la cama. 2. Cuerpo recto. 3. Baja el pecho hacia la silla y empuja con fuerza para subir."},
        {n:"Dips (Tr√≠ceps)", r:"4 x 15", i:"ü™ë", d:"1. Si√©ntate en el borde de una silla, manos a los lados. 2. Saca el cuerpo fuera de la silla apoyada en manos. 3. Baja y sube flexionando codos."},
        {n:"Zancada Est√°tica", r:"4 x 15", i:"üö∂", d:"1. Pierna derecha adelante, izquierda atr√°s. 2. Baja y sube 15 veces sin mover los pies de su lugar. 3. Cambia de pierna y repite."},
        {n:"Plancha Din√°mica", r:"4 x 45 seg", i:"üõ°Ô∏è", d:"1. Posici√≥n de plancha sobre manos. 2. Toca tu hombro izquierdo con mano derecha. 3. Cambia. Intenta no mover la cadera."},
        {n:"Supermans", r:"4 x 15", i:"ü¶∏", d:"1. Boca abajo en el suelo. 2. Eleva brazos y piernas al mismo tiempo unos cent√≠metros. 3. Aguanta 2 segundos y baja. Fortalece tu espalda baja."},
        {n:"Estiramiento Final", r:"10 min", i:"‚ú®", d:"1. Estira cada m√∫sculo trabajado. 2. Respira profundo y agradece a Dios por la movilidad de tu cuerpo."}
    ]};

    function toggleViaje() {
        isTravelMode = !isTravelMode;
        document.getElementById('travel-toggle').classList.toggle('active');
        renderRoutine();
    }

    function setDia(d, btn) {
        currentDay = d;
        document.querySelectorAll('.dia-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderRoutine();
    }

    function renderRoutine() {
        const data = isTravelMode ? RUTINA_VIAJE : RUTINAS_GYM[currentDay];
        document.getElementById('area-titulo').innerText = data.t;
        document.getElementById('sub-titulo').innerText = isTravelMode ? "Ejercicios con peso corporal (Hacer en hotel/casa)" : "Entrenamiento con pesas y equipo de gimnasio";
        document.getElementById('lista-ejercicios').innerHTML = data.e.map(ex => `
            <div class="exercise-item">
                <div class="ex-main">
                    <div class="ex-icon">${ex.i}</div>
                    <div>
                        <span class="ex-name">${ex.n}</span>
                        <span class="ex-reps">${ex.r}</span>
                    </div>
                </div>
                <div class="ex-instruction">
                    ${ex.d}
                </div>
            </div>
        `).join('');
    }

    // Funciones de utilidad (Comidas, Medidas, Notas, etc.) igual que antes
    function previewImg(input) {
        if (input.files && input.files[0]) {
            const reader = new FileReader();
            reader.onload = e => {
                currentPhoto = e.target.result;
                document.getElementById('preview-box').src = currentPhoto;
                document.getElementById('preview-box').style.display = 'block';
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

    function saveComida() {
        const tipo = document.getElementById('tipo-comida').value;
        const det = document.getElementById('detalle-comida').value;
        let html = `<b>üç¥ ${tipo}:</b> ${det}`;
        if(currentPhoto) html += `<br><img src="${currentPhoto}" style="width:100%; border-radius:10px; margin-top:8px; border:1px solid #ddd;">`;
        addHistorial(html);
        document.getElementById('detalle-comida').value = "";
        document.getElementById('preview-box').style.display = 'none';
        currentPhoto = "";
        alert("Comida registrada");
    }

    function saveMedidas() {
        const p = document.getElementById('in-peso').value;
        const c = document.getElementById('m-cintura').value;
        const h = document.getElementById('m-cadera').value;
        const b = document.getElementById('m-brazo').value;
        if(p) document.getElementById('peso-actual').innerText = p;
        addHistorial(`üìè <b>MEDIDAS:</b> Peso: ${p}kg | Cintura: ${c}cm | Cadera: ${h}cm | Brazo: ${b}cm`);
        alert("Medidas actualizadas");
    }

    function saveNota() {
        const nota = document.getElementById('nota-libre').value;
        if(nota) {
            addHistorial(`üìù <b>NOTA:</b> ${nota}`);
            document.getElementById('nota-libre').value = "";
            alert("Nota guardada");
        }
    }

    function saveCiclo() {
        const inicio = document.getElementById('in-ciclo-inicio').value;
        const fin = document.getElementById('in-ciclo-fin').value;
        const flujo = document.getElementById('in-flujo').value;
        const sint = document.getElementById('in-sintomas').value;
        if(inicio && fin) {
            addHistorial(`üå∏ <b>CICLO:</b> ${inicio} al ${fin}<br>Flujo: ${flujo}<br>Sint: ${sint}`);
            alert("Periodo registrado");
        }
    }

    function updateEspiritual() {
        const item = CONTENIDO_ESPIRITUAL[Math.floor(Math.random()*CONTENIDO_ESPIRITUAL.length)];
        document.getElementById('versiculo-txt').innerText = item.v;
        document.getElementById('cita-txt').innerText = item.c;
        document.getElementById('frase-txt').innerText = item.f;
    }

    function showTab(id, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        el.classList.add('active');
    }

    function addHistorial(txt) {
        const div = document.createElement('div');
        div.className = 'card';
        div.style.borderLeft = "5px solid var(--medium-purple)";
        div.innerHTML = `<small style="color:#888;"><b>${new Date().toLocaleString()}</b></small><br><div style="margin-top:5px;">${txt}</div>`;
        document.getElementById('historial-render').prepend(div);
    }
</script>
</body>
</html>
